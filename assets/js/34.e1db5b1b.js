(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{315:function(a,s,t){"use strict";t.r(s);var e=t(14),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"centos-docker-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos-docker-安装"}},[a._v("#")]),a._v(" CentOS Docker 安装")]),a._v(" "),s("p",[s("code",[a._v("curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.runoob.com/docker/centos-docker-install.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("参考"),s("OutboundLink")],1)]),a._v(" "),s("blockquote",[s("p",[a._v("设置开机自启动")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 开机自动启动docker")]),a._v("\n\nsystemctl start "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动docker")]),a._v("\nsystemctl restart "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启dokcer ")]),a._v("\n\n")])])]),s("h2",{attrs:{id:"docker安装alist"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装alist"}},[a._v("#")]),a._v(" Docker安装Alist")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这里是用的dockerdesktop，映射目录可以改成你自己的")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-di")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /root/alist/data:/opt/alist/data "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5244")]),a._v(":5244 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PUID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PGID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UMASK")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("022 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"alist"')]),a._v(" xhofe/alist:latest\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#首次登陆建议设置成指定密码")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" alist ./alist admin "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" NEW_PASSWORD\n")])])]),s("h2",{attrs:{id:"docker安装frps"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装frps"}},[a._v("#")]),a._v(" Docker安装frps")]),a._v(" "),s("h3",{attrs:{id:"服务端安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端安装"}},[a._v("#")]),a._v(" 服务端安装")]),a._v(" "),s("blockquote",[s("p",[a._v("拉取镜像")])]),a._v(" "),s("p",[s("code",[a._v("docker pull snowdreamtech/frps")])]),a._v(" "),s("blockquote",[s("p",[a._v("配置")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" /etc/frp\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/frp/frps.toml\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输入以下内容")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("common"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 监听端口")]),a._v("\nbind_port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7000")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 面板端口")]),a._v("\ndashboard_port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7500")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 登录面板账号设置")]),a._v("\ndashboard_user "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" admin\ndashboard_pwd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" admin\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置http及https协议下代理端口（非重要）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vhost_http_port = 7080")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vhost_https_port = 7081")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 身份验证")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# token = 12345678")]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("启动")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /etc/frp/frps.toml:/etc/frp/frps.toml "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" frps snowdreamtech/frps\n")])])]),s("blockquote",[s("p",[a._v("启动成功查看端口占用：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("netstat")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-nltp")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" frps\n")])])]),s("blockquote",[s("p",[a._v("服务端面板查看")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/dynamicbeam/picbed/master/%E6%9C%8D%E5%8A%A1%E5%AE%89%E8%A3%85-2024-05-09-14-47-10.png",alt:"服务安装-2024-05-09-14-47-10"}})]),a._v(" "),s("h3",{attrs:{id:"客户端安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端安装"}},[a._v("#")]),a._v(" 客户端安装")]),a._v(" "),s("blockquote",[s("p",[a._v("客户端配置如下：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" /etc/frp\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/frp/frpc.toml\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输入以下内容")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("common"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# server_addr为FRPS服务器IP地址")]),a._v("\nserver_addr "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("120.55")]),a._v(".170.164\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# server_port为服务端监听端口，bind_port")]),a._v("\nserver_port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7000")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 身份验证")]),a._v("\ntoken "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("12345678")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 内网穿透22端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("ssh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" tcp\nlocal_ip "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1\nlocal_port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("22")]),a._v("\nremote_port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("15000")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 内网穿透80端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" tcp\nlocal_ip "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1\nlocal_port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v("\nremote_port "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("15001")]),a._v("\n")])])]),s("blockquote",[s("p",[a._v("客户端启动")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--network")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("host")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /etc/frp/frpc.toml:/etc/frp/frpc.toml "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" frpc snowdreamtech/frpc\n")])])]),s("h3",{attrs:{id:"访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[a._v("#")]),a._v(" 访问")]),a._v(" "),s("blockquote",[s("p",[a._v("上面客户端暴露的ssh和Nginx服务，访问如下：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 格式 ssh 内网计算机用户@转发服务器IP -p 转发服务器代理端口")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v(" root@120.55.170.164 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("15000")]),a._v("\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 在浏览器输入地址就可内网nginx服务了")]),a._v("\nhttp://120.55.170.164:15001\n")])])]),s("p",[a._v("windows客户端配置略有不同：")]),a._v(" "),s("blockquote",[s("p",[a._v("配置")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("\nserverAddr "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"120.55.170.164"')]),a._v("\nserverPort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7000")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("proxies"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nname "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"web"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"tcp"')]),a._v("\nlocalIP "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"127.0.0.1"')]),a._v("\nlocalPort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3100")]),a._v("\nremotePort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3100")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("proxies"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nname "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"web"')]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("type")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http"')]),a._v("\nlocalIP "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"127.0.0.1"')]),a._v("\nlocalPort "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3100")]),a._v("\ncustomDomains "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"wuzhiyong.eu.org"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n")])])]),s("blockquote",[s("p",[a._v("启动")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("frpc.exe "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" ."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("frpc.toml\n")])])]),s("h3",{attrs:{id:"下载地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载地址"}},[a._v("#")]),a._v(" 下载地址")]),a._v(" "),s("ul",[s("li",[a._v("官方下载地址：https://github.com/fatedier/frp")]),a._v(" "),s("li",[a._v("安卓版载地址：https://github.com/mainfunx/frpc_android")])]),a._v(" "),s("h2",{attrs:{id:"iptv直播源安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iptv直播源安装"}},[a._v("#")]),a._v(" iptv直播源安装")]),a._v(" "),s("p",[a._v("docker镜像"),s("code",[a._v("herberthe0229/iptv-sources")]),a._v("\ngithub地址：https://github.com/HerbertHe/iptv-sources")]),a._v(" "),s("h2",{attrs:{id:"mysql安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql安装"}},[a._v("#")]),a._v(" MySQL安装")]),a._v(" "),s("ul",[s("li",[a._v("下载MySQL"),s("code",[a._v("5.7")]),a._v("的docker镜像：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull mysql:5.7\n")])])]),s("ul",[s("li",[a._v("使用如下命令启动MySQL服务：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" mysql "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/log:/var/log/mysql "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/data:/var/lib/mysql "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/conf:/etc/mysql/conf.d "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" mysql:5.7\n")])])]),s("ul",[s("li",[s("p",[a._v("参数说明")]),a._v(" "),s("ul",[s("li",[a._v("-p 3306:3306：将容器的3306端口映射到主机的3306端口")]),a._v(" "),s("li",[a._v("-v /mydata/mysql/conf:/etc/mysql/conf.d \\：将配置文件夹挂在到主机")]),a._v(" "),s("li",[a._v("-v /mydata/mysql/log:/var/log/mysql：将日志文件夹挂载到主机")]),a._v(" "),s("li",[a._v("-v /mydata/mysql/data:/var/lib/mysql/：将数据文件夹挂载到主机")]),a._v(" "),s("li",[a._v("-e MYSQL_ROOT_PASSWORD=root：初始化root用户的密码")])]),a._v(" "),s("blockquote",[s("p",[a._v("/mydata/mysql/data目录下创建my.conf,配置如下：")])])])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("[client]\ndefault-character-set=utf8\n#character-set-server=utf8\n#mysqlde utf8字符集默认为3位的，不支持emoji表情及部分不常见的汉字，故推荐使用utf8mb4\n \n[mysql]\ndefault-character-set=utf8\n#character-set-server=utf8\n \n[mysqld]\n#character-set-server=utf8\n \nperformance_schema=off #效果明显\ntable_open_cache=64\n \n \nperformance_schema_max_table_instances=400 \ninnodb_buffer_pool_chunk_size=64M \ninnodb_buffer_pool_size=64M \n \nquery_cache_size=16M\ntmp_table_size=18M\nkey_buffer_size=32m\n \n#skip-grant-tables\n")])])]),s("ul",[s("li",[a._v("进入运行MySQL的docker容器：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" mysql /bin/bash\n")])])]),s("ul",[s("li",[a._v("使用MySQL命令打开客户端：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-uroot")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-proot")]),a._v(" --default-character-set"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8\n")])])]),s("h2",{attrs:{id:"redis安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis安装"}},[a._v("#")]),a._v(" Redis安装")]),a._v(" "),s("ul",[s("li",[a._v("下载Redis"),s("code",[a._v("7")]),a._v("的docker镜像：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull redis:7\n")])])]),s("ul",[s("li",[a._v("使用如下命令启动Redis服务：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6379")]),a._v(":6379 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" redis "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/redis/data:/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" redis:7 redis-server "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--appendonly")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yes")]),a._v("\n")])])]),s("ul",[s("li",[a._v("进入Redis容器使用"),s("code",[a._v("redis-cli")]),a._v("命令进行连接：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" redis redis-cli\n")])])]),s("h2",{attrs:{id:"nginx-proxy-manager"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx-proxy-manager"}},[a._v("#")]),a._v(" Nginx Proxy Manager")]),a._v(" "),s("blockquote",[s("p",[a._v("拉取镜像:")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull jc21/nginx-proxy-manager\n")])])]),s("blockquote",[s("p",[a._v("启动：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" nginx-proxy-manager "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("443")]),a._v(":443 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("81")]),a._v(":81 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /root/docker/nginx-proxy-manager/data:/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /root/docker/nginx-proxy-manager/letsencrypt:/etc/letsencrypt "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  jc21/nginx-proxy-manager\n")])])]),s("blockquote",[s("p",[a._v("修改域名解析：由"),s("code",[a._v("@")]),a._v("修改为"),s("code",[a._v("*")])])]),a._v(" "),s("blockquote",[s("p",[a._v("直接拉取镜像拉取不下来，修改为阿里云的镜像"),s("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors",target:"_blank",rel:"noopener noreferrer"}},[a._v("容器镜像服务 (aliyun.com)"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("默认登陆的用户名："),s("code",[a._v("admin@example.com")]),a._v(" 密码："),s("code",[a._v("changeme")])]),a._v(" "),s("blockquote",[s("p",[a._v("试了下"),s("code",[a._v("Nginx Proxy Manager")]),a._v("不能代理域名下的端口，换成nginx，就是没有配置界面了。")])]),a._v(" "),s("ol",[s("li",[a._v("安装Nginx：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" nginx\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("启动Nginx服务：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl start nginx\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("（可选）设置Nginx开机自启：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" nginx\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("修改配置："),s("code",[a._v("vi /etc/nginx/nginx.conf")])])]),a._v(" "),s("div",{staticClass:"language-conf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("server { \n\t\tlisten       800; #80端口被运营商禁用了，要备案\n\t\tserver_name  alist.wzy1990.eu.org; \n\t\tlocation / { \n\t\tproxy_pass http://localhost:5244; \n\t\tproxy_set_header   Host    $host; \n\t\tproxy_set_header   X-Real-IP   $remote_addr; \n\t\tproxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for; \n\t\t} \n\t} \n\tserver { \n\t\tlisten       800; \n\t\tserver_name  iptv.wzy1990.eu.org; \n\t\tlocation / { \n\t\tproxy_pass http://localhost:8080; \n\t\tproxy_set_header   Host    $host; \n\t\tproxy_set_header   X-Real-IP   $remote_addr; \n\t\tproxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for; \n\t\t} \n\t} \n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);